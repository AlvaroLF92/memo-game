(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}})();const f="/Memo-Game/assets/1-CyR5VYaH.png",y="/Memo-Game/assets/2-CzU2mbAA.png",P="/Memo-Game/assets/3-BLgOOFsF.png",v="/Memo-Game/assets/4-KFgbOVkS.png",L="/Memo-Game/assets/5-DEzKUi2M.png",b="/Memo-Game/assets/6-0DqsJpds.png",h=[{idFoto:1,imagen:f},{idFoto:2,imagen:y},{idFoto:3,imagen:P},{idFoto:4,imagen:v},{idFoto:5,imagen:L},{idFoto:6,imagen:b}],V=(a,e)=>({idFoto:a,imagen:e,estaVuelta:!1,encontrada:!1}),E=a=>[...a,...a].map(o=>V(o.idFoto,o.imagen)),j=()=>({cartas:I,estadoPartida:"PartidaNoIniciada"});let I=E(h),r=j();const c={contenedoresCartas:document.querySelectorAll(".card-container"),botonIniciarPartida:document.getElementById("comenzar-partida"),mensajeJugador:document.getElementById("mensajeJugador")},A=(a,e)=>{var u;const t=a.getAttribute("data-index-id"),o=(u=a.querySelector("img"))==null?void 0:u.getAttribute("data-image-index");if(!t||!o)throw new Error("No se han podido encontrar los elementos del DOM");const s=parseInt(t),n=a.querySelector("img"),i=e.cartas[parseInt(o)];return{index:s,divImagen:n,carta:i}},l=(a,e,t)=>{a.textContent=e,t&&setTimeout(()=>{a.textContent=""},t)},D=a=>{c.botonIniciarPartida.textContent=a},C=a=>{a?c.botonIniciarPartida.style.visibility="hidden":c.botonIniciarPartida.style.visibility="visible"},m=(a,e)=>{a.forEach(t=>{e?t.classList.add("disable-cards"):t.classList.remove("disable-cards")})},x=a=>{const e=c.contenedoresCartas[a.index];e.style.pointerEvents="none"},p=(a,e)=>{const t=c.contenedoresCartas[a],o=c.contenedoresCartas[e];t.style.pointerEvents="auto",o.style.pointerEvents="auto"},B=a=>{a.forEach(e=>{const t=e.querySelector("img");t&&(t.src="./src/assets/pngs/0.png")})},F=a=>{a.divImagen.src=a.carta.imagen},M=(a,e)=>{setTimeout(()=>{const t=document.querySelector(`[data-index-id="${a}"]`),o=document.querySelector(`[data-index-id="${e}"]`),s=t==null?void 0:t.querySelector("img"),n=o==null?void 0:o.querySelector("img");s&&n&&(s.src="./src/assets/pngs/0.png",n.src="./src/assets/pngs/0.png")},750)},O=a=>{const e=A(a,r);if(J(e==null?void 0:e.index,c.mensajeJugador)&&N(e),G(e.index)&&z(e.index),w()){const n=r.indiceCartaVolteadaA,i=r.indiceCartaVolteadaB;T(n,i)?(U(n,i,c.mensajeJugador),K()&&H(c.contenedoresCartas,c.mensajeJugador)):k(n,i,c.mensajeJugador)}},d=a=>{r.estadoPartida=a},S=(a,e)=>{d("CeroCartasLevantadas"),a.indiceCartaVolteadaA=void 0,a.indiceCartaVolteadaB=void 0,a.cartas.forEach(t=>{t.encontrada=!1,t.estaVuelta=!1}),B(e),a.cartas=q(a.cartas),m(e,!1)},q=a=>a.sort(()=>Math.random()-.5),J=(a,e)=>r.cartas[a].encontrada?(l(e,"Esta carta ya forma parte de una pareja",2e3),!1):!r.cartas[a].estaVuelta&&!r.cartas[a].encontrada&&r.estadoPartida!="DosCartasLevantadas",N=a=>{const e=r.cartas[a.index];e.estaVuelta=!e.estaVuelta,F(a),x(a)},G=a=>!r.cartas[a].encontrada&&r.cartas[a].estaVuelta,z=a=>{switch(r.estadoPartida){case"CeroCartasLevantadas":r.indiceCartaVolteadaA=a,d("UnaCartaLevantada");break;case"UnaCartaLevantada":r.indiceCartaVolteadaB=a,d("DosCartasLevantadas");break}},w=()=>r.estadoPartida==="DosCartasLevantadas",T=(a,e)=>{const t=r.cartas[a],o=r.cartas[e];return t.idFoto===o.idFoto},U=(a,e,t)=>{const o=r.cartas[a],s=r.cartas[e];o.encontrada=!0,s.encontrada=!0,r.indiceCartaVolteadaA=void 0,r.indiceCartaVolteadaB=void 0,d("CeroCartasLevantadas"),l(t,"Las cartas son pareja",2e3),p(a,e)},k=(a,e,t)=>{const o=r.cartas[a],s=r.cartas[e];o.estaVuelta=!1,s.estaVuelta=!1,r.indiceCartaVolteadaA=void 0,r.indiceCartaVolteadaB=void 0,d("CeroCartasLevantadas"),M(a,e),l(t,"Las cartas no son pareja",2e3),p(a,e)},K=()=>r.cartas.every(e=>e.encontrada),H=(a,e)=>{d("PartidaCompleta"),m(a,!0),l(e,"Enhorabuena , has completado la partida"),C(!1)};document.addEventListener("DOMContentLoaded",()=>{m(c.contenedoresCartas,!0),l(c.mensajeJugador,"Pulsa 'Iniciar partida' para comenzar a jugar")});var g;(g=c.botonIniciarPartida)==null||g.addEventListener("click",()=>{S(r,c.contenedoresCartas),D("Nueva Partida"),l(c.mensajeJugador,"!Buena SuerteÂ¡",1500),C(!0)});c.contenedoresCartas.forEach(a=>{a.addEventListener("click",()=>{O(a)})});
